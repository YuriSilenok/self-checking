{% extends 'maket.html' %}

{% block center %}
<div class="container">
    <div class="row">
        <h4>Задача</h4>
    </div>
    <div class="row">
        <div class="col-lg-2">Название</div>
        <div class="col-lg-10">{{ name }}</div>
    </div>
    <div class="row">
        <div class="col-lg-2">Количество проверок</div>
        <div class="col-lg-10">{{ count_review }}</div>
    </div>
    <div class="row">
        <div class="col-lg-12"><a href="{{ link }}">Ссылка</a></div>
    </div>
    <div class="row">
        <h4>Требования</h4>
    </div>
    <div class="row">
        <ul>
            {% for requirement in requirement %}
            <li>{{ requirement }}</li>
            {% endfor %}
        </ul>
    </div>
    {% if load_file %}
    <div class="row">
        <h4>Загрузить новое решение</h4>
        <form method="post" class="col-lg-3" enctype=multipart/form-data>
            <div class="form-group">
                <label for="zip">Прикрепите архив zip</label>
                <input type="file" id="zip" class="form-control" name="zip" accept="application/zip"
                       required="required" size="20971520">
            </div>
            <div class="form-group">
                <input type="submit" class="btn btn-primary btn-lg" value="Загрузить">
            </div>
        </form>
    </div>
    {% endif %}
    <div class="row">
        <h4>История решений</h4>
    </div>
    <div class="row">
        <div class="col-lg-3"> Загружено</div>
        <div class="col-lg-3"> Количество проверок</div>
        <div class="col-lg-3"> Замечание</div>
    </div>
    {% for solving in solving %}
    <div class="row">
        <div class="col-lg-3">{{ solving.created_at }}</div>
        <div class="col-lg-3">{{ solving.review_count }}</div>
        {% if solving.review %}
        <div class="col-lg-6"><a href="{{ url_for('review_id', id_=solving.review.id) }}">{{ solving.review.status }}</a></div>
        {% endif %}
    </div>
    {% endfor %}
</div>
{% endblock %}